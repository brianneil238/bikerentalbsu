(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{7643:function(e,t,r){Promise.resolve().then(r.bind(r,8414))},7907:function(e,t,r){"use strict";var s=r(5313);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},8414:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(3827),a=r(4090),n=r(7907),i=r(8792);function l(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(null),[l,o]=(0,a.useState)(!1),u=async t=>{t.preventDefault(),o(!0),r(null);let s=new FormData(t.currentTarget),a={name:s.get("name"),email:s.get("email"),password:s.get("password"),role:s.get("role")};try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok){let e=await t.json();throw Error(e.message||"Registration failed")}e.push("/login?registered=true")}catch(e){e instanceof Error?r(e.message):r("An error occurred during registration")}finally{o(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-green-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-green-800",children:"Create your account"}),(0,s.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,s.jsx)(i.default,{href:"/login",className:"font-medium text-green-600 hover:text-green-500",children:"sign in to your account"})]})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:u,children:[t&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded relative",children:t}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-green-700 mb-1",children:"Full Name"}),(0,s.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"form-input input-medium",placeholder:"Enter your full name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-green-700 mb-1",children:"Email address"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"form-input input-medium",placeholder:"Enter your email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-green-700 mb-1",children:"Password"}),(0,s.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"form-input input-medium",placeholder:"Enter your password"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-green-700 mb-1",children:"Role"}),(0,s.jsxs)("select",{id:"role",name:"role",required:!0,className:"form-input input-medium",children:[(0,s.jsx)("option",{value:"",children:"Select your role"}),(0,s.jsx)("option",{value:"STUDENT",children:"Student"}),(0,s.jsx)("option",{value:"TEACHING_STAFF",children:"Teaching Staff"}),(0,s.jsx)("option",{value:"NON_TEACHING_STAFF",children:"Non-Teaching Staff"})]})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:l,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating account...":"Create account"})})]})]})})}}},function(e){e.O(0,[792,971,69,744],function(){return e(e.s=7643)}),_N_E=e.O()}]);